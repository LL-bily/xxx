(function(_0x10f169,_0xa88974){const _0x59a097=a0_0x4098,_0x3c5edb=_0x10f169();while(!![]){try{const _0x1665d2=parseInt(_0x59a097(0x171))/0x1+-parseInt(_0x59a097(0x179))/0x2+parseInt(_0x59a097(0x174))/0x3+parseInt(_0x59a097(0x17a))/0x4*(parseInt(_0x59a097(0x172))/0x5)+-parseInt(_0x59a097(0x168))/0x6*(parseInt(_0x59a097(0x178))/0x7)+-parseInt(_0x59a097(0x16d))/0x8+parseInt(_0x59a097(0x170))/0x9;if(_0x1665d2===_0xa88974)break;else _0x3c5edb['push'](_0x3c5edb['shift']());}catch(_0x155638){_0x3c5edb['push'](_0x3c5edb['shift']());}}}(a0_0x4c90,0x8cd57));import{init}from'./helpers/init';import{VlOverWSHandler}from'./protocols/vless';import{TrOverWSHandler}from'./protocols/trojan';import{fallback,serveIcon,renderSecrets,handlePanel,handleSubscriptions,handleLogin,handleError}from'./helpers/helpers';function a0_0x4098(_0x3b1823,_0x283e28){const _0x4c90f8=a0_0x4c90();return a0_0x4098=function(_0x409828,_0x94708d){_0x409828=_0x409828-0x168;let _0x3efdc5=_0x4c90f8[_0x409828];if(a0_0x4098['XXUTpq']===undefined){var _0x2a83a8=function(_0x575dc9){const _0x22c102='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x536c70='',_0x4de760='';for(let _0x171868=0x0,_0x3288a7,_0x574643,_0x908097=0x0;_0x574643=_0x575dc9['charAt'](_0x908097++);~_0x574643&&(_0x3288a7=_0x171868%0x4?_0x3288a7*0x40+_0x574643:_0x574643,_0x171868++%0x4)?_0x536c70+=String['fromCharCode'](0xff&_0x3288a7>>(-0x2*_0x171868&0x6)):0x0){_0x574643=_0x22c102['indexOf'](_0x574643);}for(let _0x32deae=0x0,_0x5b3737=_0x536c70['length'];_0x32deae<_0x5b3737;_0x32deae++){_0x4de760+='%'+('00'+_0x536c70['charCodeAt'](_0x32deae)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4de760);};a0_0x4098['ocFeTv']=_0x2a83a8,_0x3b1823=arguments,a0_0x4098['XXUTpq']=!![];}const _0x8c39e5=_0x4c90f8[0x0],_0x361e46=_0x409828+_0x8c39e5,_0x1949e4=_0x3b1823[_0x361e46];return!_0x1949e4?(_0x3efdc5=a0_0x4098['ocFeTv'](_0x3efdc5),_0x3b1823[_0x361e46]=_0x3efdc5):_0x3efdc5=_0x1949e4,_0x3efdc5;},a0_0x4098(_0x3b1823,_0x283e28);}function a0_0x4c90(){const _0x48b353=['l3n1yG','l2zHDMLJB24UAwnV','Cgf0Ae5HBwu','C3rHCNrZv2L0Aa','oteYotC0nhv5r3DcrW','l3nLy3jLDhm','AgvHzgvYCW','nJaXmtK2ngLov0XtDq','otu3odGXCNbOtuvi','nti2nJi0nvvWDMvVAW','l3bHBMvS','mJmWotqZzMDZAgze','l2XVz2LU','z2v0','l3rY','mJm5ndDNCLjsCMq','mtG3mdGWoeLoyMLnAq','nfrOC0L3sq','l2XVz291Da','mtGWsgHuAuD3'];a0_0x4c90=function(){return _0x48b353;};return a0_0x4c90();}import{logout}from'./authentication/auth';export default{async 'fetch'(_0x575dc9,_0x22c102){const _0x4e28e0=a0_0x4098;try{init(_0x575dc9,_0x22c102);const _0x536c70=_0x575dc9[_0x4e28e0(0x16f)][_0x4e28e0(0x176)]('Upgrade'),_0x4de760=globalThis[_0x4e28e0(0x16b)];if(!_0x536c70||_0x536c70!=='websocket'){if(_0x4de760[_0x4e28e0(0x16c)](_0x4e28e0(0x173)))return await handlePanel(_0x575dc9,_0x22c102);if(_0x4de760['startsWith'](_0x4e28e0(0x169)))return await handleSubscriptions(_0x575dc9,_0x22c102);if(_0x4de760[_0x4e28e0(0x16c)](_0x4e28e0(0x175)))return await handleLogin(_0x575dc9,_0x22c102);if(_0x4de760[_0x4e28e0(0x16c)](_0x4e28e0(0x17b)))return await logout(_0x575dc9,_0x22c102);if(_0x4de760[_0x4e28e0(0x16c)](_0x4e28e0(0x16e)))return await renderSecrets();if(_0x4de760[_0x4e28e0(0x16c)](_0x4e28e0(0x16a)))return await serveIcon();return await fallback(_0x575dc9);}else return _0x4de760[_0x4e28e0(0x16c)](_0x4e28e0(0x177))?await TrOverWSHandler(_0x575dc9):await VlOverWSHandler(_0x575dc9);}catch(_0x171868){return await handleError(_0x171868);}}};