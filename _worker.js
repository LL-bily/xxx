function a0_0x3e5e(){const _0x66d4d9=['l2vYCM9Y','l2XVz291Da','nZGYodeYmvfnweP2va','mtfdsLPAA1e','l3bHBMvS','l2zHDMLJB24UAwnV','ngHVvfvvvW','AgvHzgvYCW','nZeXnda4EvzZrLvw','ogrorNrMyq','ngzbB3jTAa','l2XVz2LU','ntqZntuZrKnPD2vy','C3rHCNrZv2L0Aa','Cgf0Ae5HBwu','nZa0mZiXnuLVC1LRBW','ndaYmdu3oxDIB2Hqsa','otCZnJqYmeHIvw1etq','ndyZnJu0mMLos0XKta','D2vIC29JA2v0','l3rY'];a0_0x3e5e=function(){return _0x66d4d9;};return a0_0x3e5e();}function a0_0x1d40(_0x28db0e,_0x3b4a32){const _0x3e5e04=a0_0x3e5e();return a0_0x1d40=function(_0x1d40b8,_0x7c6318){_0x1d40b8=_0x1d40b8-0x162;let _0x4b7da3=_0x3e5e04[_0x1d40b8];if(a0_0x1d40['kAxKME']===undefined){var _0x141051=function(_0x3637b0){const _0x52322d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x43f828='',_0x321498='';for(let _0x264e0a=0x0,_0x5acbdf,_0x149a9e,_0x29c7c9=0x0;_0x149a9e=_0x3637b0['charAt'](_0x29c7c9++);~_0x149a9e&&(_0x5acbdf=_0x264e0a%0x4?_0x5acbdf*0x40+_0x149a9e:_0x149a9e,_0x264e0a++%0x4)?_0x43f828+=String['fromCharCode'](0xff&_0x5acbdf>>(-0x2*_0x264e0a&0x6)):0x0){_0x149a9e=_0x52322d['indexOf'](_0x149a9e);}for(let _0x52c8ac=0x0,_0x1c6f8d=_0x43f828['length'];_0x52c8ac<_0x1c6f8d;_0x52c8ac++){_0x321498+='%'+('00'+_0x43f828['charCodeAt'](_0x52c8ac)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x321498);};a0_0x1d40['knonPq']=_0x141051,_0x28db0e=arguments,a0_0x1d40['kAxKME']=!![];}const _0x343f2f=_0x3e5e04[0x0],_0x156a6e=_0x1d40b8+_0x343f2f,_0x2321af=_0x28db0e[_0x156a6e];return!_0x2321af?(_0x4b7da3=a0_0x1d40['knonPq'](_0x4b7da3),_0x28db0e[_0x156a6e]=_0x4b7da3):_0x4b7da3=_0x2321af,_0x4b7da3;},a0_0x1d40(_0x28db0e,_0x3b4a32);}(function(_0x3f5988,_0x1eeb6d){const _0x391036=a0_0x1d40,_0x5aed23=_0x3f5988();while(!![]){try{const _0x57c76c=parseInt(_0x391036(0x163))/0x1*(-parseInt(_0x391036(0x172))/0x2)+-parseInt(_0x391036(0x174))/0x3+parseInt(_0x391036(0x176))/0x4*(parseInt(_0x391036(0x166))/0x5)+-parseInt(_0x391036(0x169))/0x6+parseInt(_0x391036(0x16e))/0x7+parseInt(_0x391036(0x175))/0x8*(-parseInt(_0x391036(0x167))/0x9)+-parseInt(_0x391036(0x168))/0xa*(-parseInt(_0x391036(0x16f))/0xb);if(_0x57c76c===_0x1eeb6d)break;else _0x5aed23['push'](_0x5aed23['shift']());}catch(_0x4b9723){_0x5aed23['push'](_0x5aed23['shift']());}}}(a0_0x3e5e,0xe99ba));import{initializeParams}from'./helpers/init';import{VLOverWSHandler}from'./protocols/vless';import{TROverWSHandler}from'./protocols/trojan';import{fallback,serveIcon,renderError,renderSecrets,handlePanel,handleSubscriptions,handleLogin,handleError}from'./helpers/helpers';import{logout}from'./authentication/auth';export default{async 'fetch'(_0x3637b0,_0x52322d){const _0x506ccb=a0_0x1d40;try{initializeParams(_0x3637b0,_0x52322d);const _0x43f828=_0x3637b0[_0x506ccb(0x173)]['get']('Upgrade'),_0x321498=globalThis[_0x506ccb(0x165)];if(!_0x43f828||_0x43f828!==_0x506ccb(0x16a)){if(_0x321498[_0x506ccb(0x164)](_0x506ccb(0x170)))return await handlePanel(_0x3637b0,_0x52322d);if(_0x321498['startsWith']('/sub'))return await handleSubscriptions(_0x3637b0,_0x52322d);if(_0x321498[_0x506ccb(0x164)](_0x506ccb(0x162)))return await handleLogin(_0x3637b0,_0x52322d);if(_0x321498[_0x506ccb(0x164)](_0x506ccb(0x16d)))return await logout(_0x3637b0,_0x52322d);if(_0x321498[_0x506ccb(0x164)](_0x506ccb(0x16c)))return await renderError();if(_0x321498['startsWith']('/secrets'))return await renderSecrets();if(_0x321498[_0x506ccb(0x164)](_0x506ccb(0x171)))return await serveIcon();return await fallback(_0x3637b0);}else return _0x321498[_0x506ccb(0x164)](_0x506ccb(0x16b))?await TROverWSHandler(_0x3637b0):await VLOverWSHandler(_0x3637b0);}catch(_0x264e0a){return await handleError(_0x264e0a);}}};