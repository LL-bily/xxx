(function(_0x40a3fa,_0xff22b3){const _0x5c6012=a0_0x295c,_0x9eac84=_0x40a3fa();while(!![]){try{const _0x3073fe=-parseInt(_0x5c6012(0x1c1))/0x1+-parseInt(_0x5c6012(0x1c5))/0x2*(parseInt(_0x5c6012(0x1b5))/0x3)+parseInt(_0x5c6012(0x1ba))/0x4+parseInt(_0x5c6012(0x1b8))/0x5*(-parseInt(_0x5c6012(0x1c3))/0x6)+-parseInt(_0x5c6012(0x1b6))/0x7+-parseInt(_0x5c6012(0x1be))/0x8+parseInt(_0x5c6012(0x1c0))/0x9*(parseInt(_0x5c6012(0x1b7))/0xa);if(_0x3073fe===_0xff22b3)break;else _0x9eac84['push'](_0x9eac84['shift']());}catch(_0x50b678){_0x9eac84['push'](_0x9eac84['shift']());}}}(a0_0x5ba2,0xae32a));import{initializeParams}from'./helpers/init';import{VLOverWSHandler}from'./protocols/vless';function a0_0x5ba2(){const _0x5759f3=['nJG5nZqYvLfnuwrH','z2v0','mtuZodm3mePpCezhua','l3rY','mLL6zwrNtq','l3nLy3jLDhm','C3rHCNrZv2L0Aa','l2XVz291Da','mtu5nJeXn29QvLLjDG','odmZnJu4BwXyDw5o','nJi0nda2meToDhbNqq','mtbbz0nQtKy','l3n1yG','ndG4ndeYneXAyvfPtG','Cgf0Ae5HBwu','l2zHDMLJB24UAwnV','l3bHBMvS','otiXmtGWogndC3zSta','l2XVz2LU','mZzvrMPSDKq'];a0_0x5ba2=function(){return _0x5759f3;};return a0_0x5ba2();}function a0_0x295c(_0x7b4cb3,_0x25092c){const _0x5ba2cb=a0_0x5ba2();return a0_0x295c=function(_0x295ca7,_0x41e769){_0x295ca7=_0x295ca7-0x1b5;let _0x4ad325=_0x5ba2cb[_0x295ca7];if(a0_0x295c['mFXaLO']===undefined){var _0x54402d=function(_0x1d56e9){const _0x183a11='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x18a840='',_0x2a4411='';for(let _0x317b5d=0x0,_0x410364,_0x18a4ad,_0x1de990=0x0;_0x18a4ad=_0x1d56e9['charAt'](_0x1de990++);~_0x18a4ad&&(_0x410364=_0x317b5d%0x4?_0x410364*0x40+_0x18a4ad:_0x18a4ad,_0x317b5d++%0x4)?_0x18a840+=String['fromCharCode'](0xff&_0x410364>>(-0x2*_0x317b5d&0x6)):0x0){_0x18a4ad=_0x183a11['indexOf'](_0x18a4ad);}for(let _0x587c19=0x0,_0x1e8e33=_0x18a840['length'];_0x587c19<_0x1e8e33;_0x587c19++){_0x2a4411+='%'+('00'+_0x18a840['charCodeAt'](_0x587c19)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2a4411);};a0_0x295c['aiPzUG']=_0x54402d,_0x7b4cb3=arguments,a0_0x295c['mFXaLO']=!![];}const _0xb3a9a=_0x5ba2cb[0x0],_0x330064=_0x295ca7+_0xb3a9a,_0x246e12=_0x7b4cb3[_0x330064];return!_0x246e12?(_0x4ad325=a0_0x295c['aiPzUG'](_0x4ad325),_0x7b4cb3[_0x330064]=_0x4ad325):_0x4ad325=_0x246e12,_0x4ad325;},a0_0x295c(_0x7b4cb3,_0x25092c);}import{TROverWSHandler}from'./protocols/trojan';import{fallback,serveIcon,renderError,renderSecrets,handlePanel,handleSubscriptions,handleLogin,handleError}from'./helpers/helpers';import{logout}from'./authentication/auth';export default{async 'fetch'(_0x1d56e9,_0x183a11){const _0x2d18ad=a0_0x295c;try{initializeParams(_0x1d56e9,_0x183a11);const _0x18a840=_0x1d56e9['headers'][_0x2d18ad(0x1c2)]('Upgrade'),_0x2a4411=globalThis[_0x2d18ad(0x1bb)];if(!_0x18a840||_0x18a840!=='websocket'){if(_0x2a4411[_0x2d18ad(0x1c7)](_0x2d18ad(0x1bd)))return await handlePanel(_0x1d56e9,_0x183a11);if(_0x2a4411[_0x2d18ad(0x1c7)](_0x2d18ad(0x1b9)))return await handleSubscriptions(_0x1d56e9,_0x183a11);if(_0x2a4411[_0x2d18ad(0x1c7)](_0x2d18ad(0x1bf)))return await handleLogin(_0x1d56e9,_0x183a11);if(_0x2a4411['startsWith'](_0x2d18ad(0x1c8)))return await logout(_0x1d56e9,_0x183a11);if(_0x2a4411['startsWith']('/error'))return await renderError();if(_0x2a4411['startsWith'](_0x2d18ad(0x1c6)))return await renderSecrets();if(_0x2a4411[_0x2d18ad(0x1c7)](_0x2d18ad(0x1bc)))return await serveIcon();return await fallback(_0x1d56e9);}else return _0x2a4411['startsWith'](_0x2d18ad(0x1c4))?await TROverWSHandler(_0x1d56e9):await VLOverWSHandler(_0x1d56e9);}catch(_0x317b5d){return await handleError(_0x317b5d);}}};