(function(_0x4d033d,_0xa9752f){const _0x27910c=a0_0x3978,_0xd96bdb=_0x4d033d();while(!![]){try{const _0x2f537b=parseInt(_0x27910c(0xea))/0x1*(-parseInt(_0x27910c(0xe8))/0x2)+-parseInt(_0x27910c(0xed))/0x3*(-parseInt(_0x27910c(0xef))/0x4)+parseInt(_0x27910c(0xe3))/0x5+-parseInt(_0x27910c(0xf0))/0x6+-parseInt(_0x27910c(0xf1))/0x7+-parseInt(_0x27910c(0xe4))/0x8+parseInt(_0x27910c(0xe5))/0x9;if(_0x2f537b===_0xa9752f)break;else _0xd96bdb['push'](_0xd96bdb['shift']());}catch(_0x3f6b7d){_0xd96bdb['push'](_0xd96bdb['shift']());}}}(a0_0xc808,0xae60a));import{init}from'./helpers/init';import{VlOverWSHandler}from'./protocols/vless';import{TrOverWSHandler}from'./protocols/trojan';function a0_0xc808(){const _0x4e64a0=['nZK0ntiWm3vLtvbvCq','l2zHDMLJB24UAwnV','nte4mtCWAhn5A1bP','oty3ndaWofPNDejnEq','mZu2ndG2mJjfqufyreW','C3rHCNrZv2L0Aa','l3n1yG','mJa0mdm4rhvHBuz2','AgvHzgvYCW','mtbtsKzoCe8','D3nqCM90B2nVBa','l3nLy3jLDhm','m3rwsgnzvW','Cgf0Ae5HBwu','ntyWntC2nffIqNjpyG','odmYmZG3oezlv0LIvq'];a0_0xc808=function(){return _0x4e64a0;};return a0_0xc808();}import{fallback,serveIcon,renderSecrets,handlePanel,handleSubscriptions,handleLogin,handleError}from'./helpers/helpers';function a0_0x3978(_0x3241e5,_0x22e7ee){const _0xc80844=a0_0xc808();return a0_0x3978=function(_0x397828,_0x4f943f){_0x397828=_0x397828-0xe3;let _0x59c177=_0xc80844[_0x397828];if(a0_0x3978['gvwxZV']===undefined){var _0x145ed6=function(_0x126cbb){const _0x203f0c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x124d8f='',_0x2887bf='';for(let _0xd5be4f=0x0,_0x41175f,_0xda33e3,_0x5e76da=0x0;_0xda33e3=_0x126cbb['charAt'](_0x5e76da++);~_0xda33e3&&(_0x41175f=_0xd5be4f%0x4?_0x41175f*0x40+_0xda33e3:_0xda33e3,_0xd5be4f++%0x4)?_0x124d8f+=String['fromCharCode'](0xff&_0x41175f>>(-0x2*_0xd5be4f&0x6)):0x0){_0xda33e3=_0x203f0c['indexOf'](_0xda33e3);}for(let _0x3325bf=0x0,_0x1625db=_0x124d8f['length'];_0x3325bf<_0x1625db;_0x3325bf++){_0x2887bf+='%'+('00'+_0x124d8f['charCodeAt'](_0x3325bf)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2887bf);};a0_0x3978['VuKEIQ']=_0x145ed6,_0x3241e5=arguments,a0_0x3978['gvwxZV']=!![];}const _0x3a21f1=_0xc80844[0x0],_0x5c3d48=_0x397828+_0x3a21f1,_0x15f38c=_0x3241e5[_0x5c3d48];return!_0x15f38c?(_0x59c177=a0_0x3978['VuKEIQ'](_0x59c177),_0x3241e5[_0x5c3d48]=_0x59c177):_0x59c177=_0x15f38c,_0x59c177;},a0_0x3978(_0x3241e5,_0x22e7ee);}import{logout}from'./authentication/auth';export default{async 'fetch'(_0x126cbb,_0x203f0c){const _0x3080dd=a0_0x3978;try{const _0x124d8f=_0x126cbb[_0x3080dd(0xe9)]['get']('Upgrade');init(_0x126cbb,_0x203f0c,_0x124d8f);const _0x2887bf=globalThis[_0x3080dd(0xee)];if(_0x124d8f==='websocket'){if(globalThis['wsProtocol']==='vl')return await VlOverWSHandler(_0x126cbb);if(globalThis[_0x3080dd(0xeb)]==='tr')return await TrOverWSHandler(_0x126cbb);}else{if(_0x2887bf['startsWith']('/panel'))return await handlePanel(_0x126cbb,_0x203f0c);if(_0x2887bf[_0x3080dd(0xe6)](_0x3080dd(0xe7)))return await handleSubscriptions(_0x126cbb,_0x203f0c);if(_0x2887bf['startsWith']('/login'))return await handleLogin(_0x126cbb,_0x203f0c);if(_0x2887bf['startsWith']('/logout'))return await logout(_0x126cbb,_0x203f0c);if(_0x2887bf['startsWith'](_0x3080dd(0xec)))return await renderSecrets();if(_0x2887bf[_0x3080dd(0xe6)](_0x3080dd(0xf2)))return await serveIcon();}return await fallback(_0x126cbb);}catch(_0xd5be4f){return await handleError(_0xd5be4f);}}};